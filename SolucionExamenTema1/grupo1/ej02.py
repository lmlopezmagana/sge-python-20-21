import datetime
import locale

# Datos con las precipitaciones de Sevilla de los 3 primeros trimestres de 2020

datos = { '01/01/2020' : 0, '02/01/2020': 0, '03/01/2020': 0, '04/01/2020': 0, '05/01/2020': 0, '06/01/2020': 0, '07/01/2020': 0, '08/01/2020': 0, '09/01/2020': 0, '10/01/2020': 0, '11/01/2020': 0, '12/01/2020': 0, '13/01/2020': 0, '14/01/2020': 0.6, '15/01/2020': 0, '16/01/2020': 0, '17/01/2020': 0, '18/01/2020': 0, '19/01/2020': 3.5, '20/01/2020': 0, '21/01/2020': 0, '22/01/2020': 0.1, '23/01/2020': 9.7, '24/01/2020': 20.1, '25/01/2020': 15.6, '26/01/2020': 1.6, '27/01/2020': 0, '28/01/2020': 0, '29/01/2020': 0, '30/01/2020': 0, '31/01/2020': 0, '01/02/2020': 0, '02/02/2020': 0, '03/02/2020': 0, '04/02/2020': 0, '05/02/2020': 0, '06/02/2020': 0, '07/02/2020': 0, '08/02/2020': 0, '09/02/2020': 0, '10/02/2020': 0, '11/02/2020': 0, '12/02/2020': 0, '13/02/2020': 0, '14/02/2020': 0, '15/02/2020': 0, '16/02/2020': 0, '17/02/2020': 0, '18/02/2020': 0, '19/02/2020': 0, '20/02/2020': 0, '21/02/2020': 0, '22/02/2020': 0, '23/02/2020': 0, '24/02/2020': 0, '25/02/2020': 0, '26/02/2020': 0, '27/02/2020': 0, '28/02/2020': 0, '29/02/2020': 0, '01/03/2020': 0, '02/03/2020': 0.5, '03/03/2020': 0.3, '04/03/2020': 0, '05/03/2020': 0, '06/03/2020': 0, '07/03/2020': 0, '08/03/2020': 0, '09/03/2020': 0, '10/03/2020': 0, '11/03/2020': 0, '12/03/2020': 0, '13/03/2020': 0, '14/03/2020': 0, '15/03/2020': 0, '16/03/2020': 0, '17/03/2020': 0, '18/03/2020': 2.3, '19/03/2020': 0, '20/03/2020': 0, '21/03/2020': 6.3, '22/03/2020': 18.5, '23/03/2020': 0, '24/03/2020': 0.2, '25/03/2020': 0, '26/03/2020': 0, '27/03/2020': 0, '28/03/2020': 0, '29/03/2020': 0, '30/03/2020': 0, '31/03/2020': 13.8, '01/04/2020': 2.4, '02/04/2020': 3.8, '03/04/2020': 0.6, '04/04/2020': 0, '05/04/2020': 0, '06/04/2020': 0.7, '07/04/2020': 0.7, '08/04/2020': 0, '09/04/2020': 0, '10/04/2020': 0, '11/04/2020': 0, '12/04/2020': 0, '13/04/2020': 0, '14/04/2020': 0, '15/04/2020': 5.3, '16/04/2020': 7.8, '17/04/2020': 0, '18/04/2020': 0, '19/04/2020': 2.3, '20/04/2020': 0, '21/04/2020': 4.4, '22/04/2020': 2.8, '23/04/2020': 0, '24/04/2020': 0, '25/04/2020': 0.5, '26/04/2020': 0.7, '27/04/2020': 0, '28/04/2020': 11.2, '29/04/2020': 0, '30/04/2020': 0, '01/05/2020': 0, '02/05/2020': 0, '03/05/2020': 0, '04/05/2020': 0, '05/05/2020': 0, '06/05/2020': 0, '07/05/2020': 0, '08/05/2020': 0, '09/05/2020': 0, '10/05/2020': 3, '11/05/2020': 3.4, '12/05/2020': 1.2, '13/05/2020': 8, '14/05/2020': 3.5, '15/05/2020': 18.5, '16/05/2020': 0.6, '17/05/2020': 0, '18/05/2020': 0, '19/05/2020': 0, '20/05/2020': 0, '21/05/2020': 0, '22/05/2020': 0, '23/05/2020': 0, '24/05/2020': 0, '25/05/2020': 0, '26/05/2020': 0, '27/05/2020': 0, '28/05/2020': 0, '29/05/2020': 0, '30/05/2020': 0, '31/05/2020': 0, '01/06/2020': 0, '02/06/2020': 0, '03/06/2020': 0, '04/06/2020': 0, '05/06/2020': 0, '06/06/2020': 0, '07/06/2020': 0, '08/06/2020': 0, '09/06/2020': 0, '10/06/2020': 0, '11/06/2020': 0, '12/06/2020': 0, '13/06/2020': 0, '14/06/2020': 0, '15/06/2020': 0, '16/06/2020': 0, '17/06/2020': 0, '18/06/2020': 0, '19/06/2020': 0, '20/06/2020': 0, '21/06/2020': 0, '22/06/2020': 0, '23/06/2020': 0, '24/06/2020': 0, '25/06/2020': 0, '26/06/2020': 0, '27/06/2020': 0, '28/06/2020': 0, '29/06/2020': 0, '30/06/2020': 0, '01/07/2020': 0, '02/07/2020': 0, '03/07/2020': 0, '04/07/2020': 0, '05/07/2020': 0, '06/07/2020': 0, '07/07/2020': 0, '08/07/2020': 0, '09/07/2020': 0, '10/07/2020': 0, '11/07/2020': 0, '12/07/2020': 0, '13/07/2020': 0, '14/07/2020': 0, '15/07/2020': 0, '16/07/2020': 0, '17/07/2020': 0, '18/07/2020': 0, '19/07/2020': 0, '20/07/2020': 0, '21/07/2020': 0, '22/07/2020': 2.4, '23/07/2020': 0, '24/07/2020': 0, '25/07/2020': 0, '26/07/2020': 0, '27/07/2020': 0, '28/07/2020': 0, '29/07/2020': 0, '30/07/2020': 0, '31/07/2020': 0, '01/08/2020': 0, '02/08/2020': 0, '03/08/2020': 0, '04/08/2020': 0, '05/08/2020': 0, '06/08/2020': 0, '07/08/2020': 0, '08/08/2020': 0, '09/08/2020': 0, '10/08/2020': 0, '11/08/2020': 0, '12/08/2020': 0, '13/08/2020': 0, '14/08/2020': 0, '15/08/2020': 0, '16/08/2020': 0, '17/08/2020': 0, '18/08/2020': 0, '19/08/2020': 0, '20/08/2020': 0, '21/08/2020': 0, '22/08/2020': 0, '23/08/2020': 0, '24/08/2020': 0, '25/08/2020': 0, '26/08/2020': 0, '27/08/2020': 0, '28/08/2020': 0, '29/08/2020': 0, '30/08/2020': 0, '31/08/2020': 0, '01/09/2020': 0, '02/09/2020': 0, '03/09/2020': 0, '04/09/2020': 0, '05/09/2020': 0, '06/09/2020': 0, '07/09/2020': 0, '08/09/2020': 0, '09/09/2020': 0, '10/09/2020': 0, '11/09/2020': 0, '12/09/2020': 0, '13/09/2020': 0, '14/09/2020': 0, '15/09/2020': 0, '16/09/2020': 0, '17/09/2020': 0, '18/09/2020': 0, '19/09/2020': 3.7, '20/09/2020': 0.6, '21/09/2020': 0, '22/09/2020': 0, '23/09/2020': 0, '24/09/2020': 0, '25/09/2020': 0, '26/09/2020': 0, '27/09/2020': 0, '28/09/2020': 0, '29/09/2020': 0, '30/09/2020': 0 }

# Cambio para que el idioma se el Español de España
locale.setlocale(locale.LC_TIME, 'es_ES.UTF-8')


"""
Devuelve el mes (en texto) de una cadena que se le pasa como fecha
"""
def mes(fecha):
    fecha_datetime = datetime.datetime.strptime(fecha, "%d/%m/%Y")
    return fecha_datetime.strftime("%B").upper()


def dia_semana(fecha):
    fecha_datetime = datetime.datetime.strptime(fecha, "%d/%m/%Y")
    return fecha_datetime.strftime("%A").upper()

def media_mes(data):
    aux = {}
    for fecha, precipitacion in data.items():
        m = mes(fecha)
        if m not in aux.keys():
            aux[m] = [precipitacion]
        else:
            aux[m].append(precipitacion)

    result = {}

    for m in aux.keys():
        acumulador = 0
        for precipitacion in aux[m]:
            acumulador += precipitacion
        result[m] = acumulador / len(aux[m])

    return result



def mayores(data):
    primero, segundo, tercero = 0, 0, 0
    fecha_primero, fecha_segundo, fecha_tercero = '','',''

    for fecha, precipitacion in data.items():
        if precipitacion > primero:
            tercero = segundo
            fecha_tercero = fecha_segundo
            segundo = primero
            fecha_segundo = fecha_primero
            primero = precipitacion
            fecha_primero = fecha
        elif precipitacion > segundo:
            tercero = segundo
            fecha_tercero = fecha_segundo
            segundo = precipitacion
            fecha_segundo = fecha
        elif precipitacion > tercero:
            tercero = precipitacion
            fecha_tercero = fecha

    result = {}
    result[fecha_primero] = primero
    result[fecha_segundo] = segundo
    result[fecha_tercero] = tercero

    return result


print(media_mes(datos))
print(mayores(datos))


